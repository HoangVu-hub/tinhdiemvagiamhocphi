<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>T√≠nh ƒêi·ªÉm v√† Ch√≠nh S√°ch Gi·∫£m H·ªçc Ph√≠ - ƒê·∫°i h·ªçc C·ª≠u Long</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .custom-select {
            position: relative;
        }
        .custom-select select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            padding-right: 3rem;
        }
        .custom-select::after {
            content: '‚ñº';
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #3b82f6;
            font-size: 1.25rem;
            font-weight: 700;
            pointer-events: none;
            transition: transform 0.3s ease, color 0.3s ease;
        }
        .custom-select select:focus + ::after,
        .custom-select select:hover + ::after {
            transform: translateY(-50%) scale(1.2);
            color: #1e40af;
        }
        .invalid {
            border-color: #ef4444 !important;
            animation: shake 0.3s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .highlight {
            background-color: #fef08a;
            font-weight: 600;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-gray-100 min-h-screen flex flex-col items-center p-4 sm:p-6 md:p-8">
    <header class="text-center mb-6 sm:mb-8">
        <a href="https://tuyensinh.mku.edu.vn/" target="_blank">
            <img src="https://upload.wikimedia.org/wikipedia/vi/thumb/d/de/Logo_Tr%C6%B0%E1%BB%9Dng_%C4%90%E1%BA%A1i_h%E1%BB%8Dc_C%E1%BB%ADu_Long.svg/1200px-Logo_Tr%C6%B0%E1%BB%9Dng_%C4%90%E1%BA%A1i_h%E1%BB%8Dc_C%E1%BB%ADu_Long.svg.png" alt="Logo ƒê·∫°i h·ªçc C·ª≠u Long" class="w-32 sm:w-40 md:w-48 mx-auto hover:scale-105 transition-transform duration-300">
        </a>
        <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-blue-800 mt-4">T√≠nh ƒêi·ªÉm & Ch√≠nh S√°ch Gi·∫£m H·ªçc Ph√≠</h1>
    </header>
    <main class="w-full max-w-5xl flex flex-col md:flex-row gap-6 md:gap-8">
        <section class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 w-full md:w-1/2">
            <h2 class="text-xl sm:text-2xl font-semibold text-blue-700 mb-4">Nh·∫≠p Th√¥ng Tin & ƒêi·ªÉm</h2>
            <form class="space-y-4">
                <div>
                    <label for="fullName" class="block text-sm sm:text-base font-medium text-gray-700">H·ªç v√† t√™n *</label>
                    <input type="text" id="fullName" class="mt-1 w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base sm:text-lg" placeholder="Nguy·ªÖn VƒÉn A" required>
                </div>
                <div>
                    <label for="dob" class="block text-sm sm:text-base font-medium text-gray-700">Ng√†y sinh *</label>
                    <input type="date" id="dob" class="mt-1 w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base sm:text-lg" required>
                </div>
                <div>
                    <label for="birthPlace" class="block text-sm sm:text-base font-medium text-gray-700">N∆°i sinh *</label>
                    <input type="text" id="birthPlace" class="mt-1 w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base sm:text-lg" placeholder="Vƒ©nh Long" required>
                </div>
                <div>
                    <label for="address" class="block text-sm sm:text-base font-medium text-gray-700">ƒê·ªãa ch·ªâ *</label>
                    <input type="text" id="address" class="mt-1 w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base sm:text-lg" placeholder="123 ƒê∆∞·ªùng ABC, Vƒ©nh Long" required>
                </div>
                <div>
                    <label for="phone" class="block text-sm sm:text-base font-medium text-gray-700">S·ªë ƒëi·ªán tho·∫°i *</label>
                    <input type="tel" id="phone" class="mt-1 w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base sm:text-lg" placeholder="0123 456 789" pattern="[0-9]{10,11}" required>
                </div>
                <div class="custom-select">
                    <label for="major" class="block text-sm sm:text-base font-medium text-gray-700">Ng√†nh h·ªçc *</label>
                    <select id="major" class="mt-1 w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base sm:text-lg font-medium hover:border-blue-600 transition-colors" required>
                        <option value="" disabled selected>Ch·ªçn ng√†nh h·ªçc</option>
                        <option value="Y khoa">1. Y khoa</option>
                        <option value="RƒÉng ‚Äì H√†m ‚Äì M·∫∑t">2. RƒÉng ‚Äì H√†m ‚Äì M·∫∑t</option>
                        <option value="Y h·ªçc c·ªï truy·ªÅn">3. Y h·ªçc c·ªï truy·ªÅn</option>
                        <option value="D∆∞·ª£c h·ªçc">4. D∆∞·ª£c h·ªçc</option>
                        <option value="K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc">5. K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc</option>
                        <option value="H·ªô sinh">6. H·ªô sinh</option>
                        <option value="K·ªπ thu·∫≠t x√©t nghi·ªám y h·ªçc">7. K·ªπ thu·∫≠t x√©t nghi·ªám y h·ªçc</option>
                        <option value="K·ªπ thu·∫≠t ph·ª•c h·ªìi ch·ª©c nƒÉng">8. K·ªπ thu·∫≠t ph·ª•c h·ªìi ch·ª©c nƒÉng</option>
                        <option value="ƒêi·ªÅu d∆∞·ª°ng">9. ƒêi·ªÅu d∆∞·ª°ng</option>
                        <option value="Marketing">10. Marketing</option>
                        <option value="Qu·∫£n tr·ªã kinh doanh">11. Qu·∫£n tr·ªã kinh doanh</option>
                        <option value="Qu·∫£n l√Ω kinh t·∫ø">12. Qu·∫£n l√Ω kinh t·∫ø</option>
                        <option value="Kinh doanh th∆∞∆°ng m·∫°i">13. Kinh doanh th∆∞∆°ng m·∫°i</option>
                        <option value="T√†i ch√≠nh ‚Äì Ng√¢n h√†ng">14. T√†i ch√≠nh ‚Äì Ng√¢n h√†ng</option>
                        <option value="C√¥ng ngh·ªá t√†i ch√≠nh">15. C√¥ng ngh·ªá t√†i ch√≠nh</option>
                        <option value="K·∫ø to√°n">16. K·∫ø to√°n</option>
                        <option value="Thi·∫øt k·∫ø ƒë·ªì h·ªça">17. Thi·∫øt k·∫ø ƒë·ªì h·ªça</option>
                        <option value="Lu·∫≠t">18. Lu·∫≠t</option>
                        <option value="Lu·∫≠t kinh t·∫ø">19. Lu·∫≠t kinh t·∫ø</option>
                        <option value="Qu·∫£n tr·ªã d·ªãch v·ª• du l·ªãch v√† l·ªØ h√†nh">20. Qu·∫£n tr·ªã d·ªãch v·ª• du l·ªãch v√† l·ªØ h√†nh</option>
                        <option value="C√¥ng ngh·ªá th√¥ng tin">21. C√¥ng ngh·ªá th√¥ng tin</option>
                        <option value="C√¥ng ngh·ªá k·ªπ thu·∫≠t c√¥ng tr√¨nh x√¢y d·ª±ng">22. C√¥ng ngh·ªá k·ªπ thu·∫≠t c√¥ng tr√¨nh x√¢y d·ª±ng</option>
                        <option value="C√¥ng ngh·ªá k·ªπ thu·∫≠t ƒëi·ªán, ƒëi·ªán t·ª≠">23. C√¥ng ngh·ªá k·ªπ thu·∫≠t ƒëi·ªán, ƒëi·ªán t·ª≠</option>
                        <option value="K·ªπ thu·∫≠t y sinh">24. K·ªπ thu·∫≠t y sinh</option>
                        <option value="K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng">25. K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng</option>
                        <option value="C√¥ng ngh·ªá k·ªπ thu·∫≠t √¥ t√¥">26. C√¥ng ngh·ªá k·ªπ thu·∫≠t √¥ t√¥</option>
                        <option value="C√¥ng ngh·ªá k·ªπ thu·∫≠t c∆° kh√≠">27. C√¥ng ngh·ªá k·ªπ thu·∫≠t c∆° kh√≠</option>
                        <option value="C√¥ng ngh·ªá th·ª±c ph·∫©m">28. C√¥ng ngh·ªá th·ª±c ph·∫©m</option>
                        <option value="N√¥ng h·ªçc">29. N√¥ng h·ªçc</option>
                        <option value="B·∫£o v·ªá th·ª±c v·∫≠t">30. B·∫£o v·ªá th·ª±c v·∫≠t</option>
                        <option value="Nu√¥i tr·ªìng th·ªßy s·∫£n">31. Nu√¥i tr·ªìng th·ªßy s·∫£n</option>
                        <option value="Th√∫ y">32. Th√∫ y</option>
                        <option value="Ti·∫øng Vi·ªát & VƒÉn h√≥a Vi·ªát Nam">33. Ti·∫øng Vi·ªát & VƒÉn h√≥a Vi·ªát Nam</option>
                        <option value="Ng√¥n ng·ªØ Anh">34. Ng√¥n ng·ªØ Anh</option>
                        <option value="ƒê√¥ng ph∆∞∆°ng h·ªçc">35. ƒê√¥ng ph∆∞∆°ng h·ªçc</option>
                        <option value="C√¥ng t√°c x√£ h·ªôi">36. C√¥ng t√°c x√£ h·ªôi</option>
                        <option value="Truy·ªÅn th√¥ng ƒëa ph∆∞∆°ng ti·ªán">37. Truy·ªÅn th√¥ng ƒëa ph∆∞∆°ng ti·ªán</option>
                        <option value="Quan h·ªá c√¥ng ch√∫ng">38. Quan h·ªá c√¥ng ch√∫ng</option>
                    </select>
                </div>
                <div class="custom-select">
                    <label for="eduType" class="block text-sm sm:text-base font-medium text-gray-700">Lo·∫°i h√¨nh gi√°o d·ª•c *</label>
                    <select id="eduType" class="mt-1 w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base sm:text-lg font-medium hover:border-blue-600 transition-colors" onchange="updateSubjectTable()">
                        <option value="thpt">üìö THPT Ch√≠nh Quy (9 m√¥n)</option>
                        <option value="gdtx">üìò THPT GDTX (7 m√¥n)</option>
                    </select>
                </div>
                <table class="w-full border-collapse bg-gray-50 rounded-lg overflow-hidden">
                    <thead>
                        <tr>
                            <th class="border border-gray-200 p-3 bg-blue-600 text-white text-sm sm:text-base font-semibold">M√¥n h·ªçc</th>
                            <th class="border border-gray-200 p-3 bg-blue-600 text-white text-sm sm:text-base font-semibold">ƒêi·ªÉm c·∫£ nƒÉm (0.0‚Äì10.0)</th>
                        </tr>
                    </thead>
                    <tbody id="scoreTable">
                        <tr>
                            <td class="border border-gray-200 p-3 text-sm sm:text-base">Ng·ªØ vƒÉn</td>
                            <td class="border border-gray-200 p-3"><input type="number" class="input-field w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base" id="sub1" min="0" max="10" step="0.1" oninput="validateScore(this)"></td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-3 text-sm sm:text-base">To√°n</td>
                            <td class="border border-gray-200 p-3"><input type="number" class="input-field w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base" id="sub2" min="0" max="10" step="0.1" oninput="validateScore(this)"></td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-3 text-sm sm:text-base">Ti·∫øng Anh</td>
                            <td class="border border-gray-200 p-3"><input type="number" class="input-field w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base" id="sub3" min="0" max="10" step="0.1" oninput="validateScore(this)"></td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-3 text-sm sm:text-base">Qu·ªëc ph√≤ng - An ninh</td>
                            <td class="border border-gray-200 p-3"><input type="number" class="input-field w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base" id="sub4" min="0" max="10" step="0.1" oninput="validateScore(this)"></td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-3 text-sm sm:text-base">V·∫≠t l√Ω</td>
                            <td class="border border-gray-200 p-3"><input type="number" class="input-field w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base" id="sub5" min="0" max="10" step="0.1" oninput="validateScore(this)"></td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-3 text-sm sm:text-base">L·ªãch s·ª≠</td>
                            <td class="border border-gray-200 p-3"><input type="number" class="input-field w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base" id="sub6" min="0" max="10" step="0.1" oninput="validateScore(this)"></td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-3 text-sm sm:text-base">ƒê·ªãa l√Ω</td>
                            <td class="border border-gray-200 p-3"><input type="number" class="input-field w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base" id="sub7" min="0" max="10" step="0.1" oninput="validateScore(this)"></td>
                        </tr>
                        <tr id="sub8-row">
                            <td class="border border-gray-200 p-3 text-sm sm:text-base">Gi√°o d·ª•c KT & PL</td>
                            <td class="border border-gray-200 p-3"><input type="number" class="input-field w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base" id="sub8" min="0" max="10" step="0.1" oninput="validateScore(this)"></td>
                        </tr>
                        <tr id="sub9-row">
                            <td class="border border-gray-200 p-3 text-sm sm:text-base">Tin h·ªçc</td>
                            <td class="border border-gray-200 p-3"><input type="number" class="input-field w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base" id="sub9" min="0" max="10" step="0.1" oninput="validateScore(this)"></td>
                        </tr>
                    </tbody>
                </table>
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700">Ch·ªçn ch√≠nh s√°ch gi·∫£m h·ªçc ph√≠ (M·ª•c 1‚Äì4, 9‚Äì10)</label>
                    <div class="space-y-2 mt-2">
                        <div class="flex items-center">
                            <input type="radio" id="policy1" name="discountPolicy" value="1" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <label for="policy1" class="ml-2 text-sm sm:text-base text-gray-700">M·ª•c 1: H·ªô ngh√®o, c·∫≠n ngh√®o (50% nƒÉm th·ª© nh·∫•t)</label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="policy2" name="discountPolicy" value="2" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <label for="policy2" class="ml-2 text-sm sm:text-base text-gray-700">M·ª•c 2: M·ªì c√¥i cha ho·∫∑c m·∫π (50% nƒÉm th·ª© nh·∫•t)</label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="policy3" name="discountPolicy" value="3" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <label for="policy3" class="ml-2 text-sm sm:text-base text-gray-700">M·ª•c 3: Con ng∆∞·ªùi c√≥ c√¥ng, d√¢n t·ªôc thi·ªÉu s·ªë,... (40% HK1)</label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="policy4" name="discountPolicy" value="4" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <label for="policy4" class="ml-2 text-sm sm:text-base text-gray-700">M·ª•c 4: H·ªçc sinh Vƒ©nh Long (20% HK1) / Ph√∫ Qu·ªõi (40% HK1)</label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="policy9" name="discountPolicy" value="9" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <label for="policy9" class="ml-2 text-sm sm:text-base text-gray-700">M·ª•c 9: D√¢n t·ªôc Khmer (Mi·ªÖn ph√≠ to√†n kh√≥a)</label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="policy10" name="discountPolicy" value="10" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <label for="policy10" class="ml-2 text-sm sm:text-base text-gray-700">M·ª•c 10: Con th∆∞∆°ng binh, con li·ªát sƒ© (50% HK1)</label>
                        </div>
                    </div>
                    <button type="button" onclick="clearPolicySelection()" class="mt-3 w-full sm:w-auto px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors">X√≥a l·ª±a ch·ªçn</button>
                </div>
                <div class="flex flex-col sm:flex-row gap-3">
                    <button type="button" onclick="calculateAverage()" class="w-full sm:w-auto px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-base sm:text-lg font-semibold">T√≠nh Trung B√¨nh</button>
                    <button type="button" onclick="generateApplicationForm()" class="w-full sm:w-auto px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-base sm:text-lg font-semibold">T·∫°o Form H·ªó Tr·ª£</button>
                </div>
                <div id="totalResult" class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg text-base sm:text-lg font-semibold text-blue-800 text-center">ƒêi·ªÉm trung b√¨nh: Ch∆∞a t√≠nh</div>
            </form>
        </section>
        <section class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 w-full md:w-1/2">
            <h2 class="text-xl sm:text-2xl font-semibold text-blue-700 mb-4">Ch√≠nh S√°ch Gi·∫£m H·ªçc Ph√≠</h2>
            <ul id="policyList" class="list-decimal pl-6 space-y-2 text-sm sm:text-base text-gray-700">
                <li data-policy="1">Gi·∫£m 50% h·ªçc ph√≠ nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n h·ªô ngh√®o, c·∫≠n ngh√®o (kh√¥ng √°p d·ª•ng cho ng√†nh Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="2">Gi·∫£m 50% h·ªçc ph√≠ nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n m·ªì c√¥i cha ho·∫∑c m·ªì c√¥i m·∫π (kh√¥ng √°p d·ª•ng cho ng√†nh Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="3">Gi·∫£m 40% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n l√† con c·ªßa ng∆∞·ªùi c√≥ c√¥ng v·ªõi c√°ch m·∫°ng, t√¢n sinh vi√™n c√≥ anh/ch·ªã ƒëang l√† sinh vi√™n c·ªßa Tr∆∞·ªùng ƒêHCL, t√¢n sinh vi√™n l√† ng∆∞·ªùi d√¢n t·ªôc thi·ªÉu s·ªë, t√¢n sinh vi√™n l√† con ru·ªôt c·ªßa CB, GV tr∆∞·ªùng THPT, TTGDTX, S·ªü GD&ƒêT c√°c t·ªânh, t√¢n sinh vi√™n l√† con, em, ch√°u ru·ªôt c·ªßa CB, GV Tr∆∞·ªùng ƒêHCL (kh√¥ng √°p d·ª•ng cho ng√†nh Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="4">Gi·∫£m 20% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n l√† h·ªçc sinh c√°c tr∆∞·ªùng THPT, TTGDTX ·ªü Vƒ©nh Long. Ri√™ng t√¢n sinh vi√™n l√† h·ªçc sinh Tr∆∞·ªùng THCS v√† THPT Ph√∫ Qu·ªõi gi·∫£m 40% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t (kh√¥ng √°p d·ª•ng cho ng√†nh Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="5">Gi·∫£m 20% h·ªçc ph√≠ tr·ªçn kh√≥a cho t√¢n sinh vi√™n h·ªçc c√°c ng√†nh: C√¥ng t√°c x√£ h·ªôi, K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng, K·ªπ thu·∫≠t y sinh, Kinh doanh th∆∞∆°ng m·∫°i, H·ªô sinh, K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc (√°p d·ª•ng khi kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán c√°c ∆∞u ti√™n kh√°c).</li>
                <li data-policy="6">Mi·ªÖn h·ªçc ph√≠ HK1 nƒÉm nh·∫•t cho t√¢n sinh vi√™n c√≥ ƒëi·ªÉm trung b√¨nh h·ªçc t·∫≠p nƒÉm l·ªõp 12 ƒë·∫°t t·ª´ 9,0 tr·ªü l√™n, ri√™ng ng√†nh D∆∞·ª£c h·ªçc gi·∫£m 50% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t (kh√¥ng √°p d·ª•ng cho ng√†nh Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="7">Gi·∫£m 50% h·ªçc ph√≠ HK1 nƒÉm nh·∫•t cho t√¢n sinh vi√™n c√≥ ƒëi·ªÉm trung b√¨nh h·ªçc t·∫≠p nƒÉm l·ªõp 12 ƒë·∫°t t·ª´ 8,5 ƒë·∫øn d∆∞·ªõi 9,0, ri√™ng ng√†nh D∆∞·ª£c h·ªçc gi·∫£m 25% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t (kh√¥ng √°p d·ª•ng cho ng√†nh Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="8">Gi·∫£m 25% h·ªçc ph√≠ HK1 cho t√¢n sinh vi√™n c√≥ ƒëi·ªÉm trung b√¨nh h·ªçc t·∫≠p nƒÉm l·ªõp 12 ƒë·∫°t t·ª´ 8,0 ƒë·∫øn d∆∞·ªõi 8,5 (kh√¥ng √°p d·ª•ng cho ng√†nh D∆∞·ª£c h·ªçc, Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="9">Mi·ªÖn h·ªçc ph√≠ to√†n kh√≥a h·ªçc t√¢n sinh vi√™n ng∆∞·ªùi d√¢n t·ªôc Khmer theo gi·ªõi thi·ªáu c·ªßa Ban D√¢n t·ªôc c√°c t·ªânh: An Giang, B·∫°c Li√™u, H·∫≠u Giang, Ki√™n Giang, S√≥c TrƒÉng, Tr√† Vinh, Vƒ©nh Long (kh√¥ng √°p d·ª•ng cho ng√†nh Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="10">T√¢n sinh vi√™n l√† con th∆∞∆°ng binh, con li·ªát sƒ© ƒë∆∞·ª£c gi·∫£m 50% h·ªçc ph√≠ h·ªçc k·ª≥ 1 nƒÉm th·ª© nh·∫•t.</li>
                <li data-policy="11">T·∫∑ng 01 b·ªô ƒë·ªìng ph·ª•c th·ªÉ d·ª•c c·ªßa Tr∆∞·ªùng ƒê·∫°i h·ªçc C·ª≠u Long cho m·ªói t√¢n sinh vi√™n nh·∫≠p h·ªçc.</li>
                <li data-policy="12">Tr∆∞·ªùng ƒê·∫°i h·ªçc C·ª≠u Long t·ªï ch·ª©c kh√°m s·ª©c kh·ªèe mi·ªÖn ph√≠ cho to√†n b·ªô t√¢n sinh vi√™n, ƒë·ªÉ ho√†n th√†nh h·ªì s∆° nh·∫≠p h·ªçc theo quy ƒë·ªãnh.</li>
            </ul>
            <h3 class="text-lg sm:text-xl font-semibold text-blue-700 mt-6">Th√¥ng Tin M√¥n H·ªçc</h3>
            <div class="mt-2 text-sm sm:text-base text-gray-700">
                <h4 class="font-medium text-blue-600">üìö THPT Ch√≠nh Quy</h4>
                <p>H·ªçc 12‚Äì13 m√¥n/nƒÉm, t√≠nh TBM 11‚Äì12 m√¥n:</p>
                <ul class="list-disc pl-6">
                    <li><strong>M√¥n ch√≠nh:</strong> To√°n, Ng·ªØ VƒÉn, Ti·∫øng Anh, V·∫≠t L√Ω, H√≥a H·ªçc, Sinh H·ªçc, L·ªãch S·ª≠, ƒê·ªãa L√Ω, Gi√°o d·ª•c c√¥ng d√¢n, C√¥ng ngh·ªá, Tin h·ªçc, Qu·ªëc ph√≤ng ‚Äì An ninh.</li>
                    <li><strong>Kh√¥ng t√≠nh TBM:</strong> Gi√°o d·ª•c th·ªÉ ch·∫•t.</li>
                </ul>
                <h4 class="font-medium text-blue-600 mt-4">üìò THPT GDTX</h4>
                <p>H·ªçc 7 m√¥n, t√≠nh TBM 6‚Äì7 m√¥n:</p>
                <ul class="list-disc pl-6">
                    <li><strong>M√¥n ch√≠nh:</strong> To√°n, Ng·ªØ VƒÉn, Ti·∫øng Anh, L·ªãch S·ª≠, ƒê·ªãa L√Ω, V·∫≠t L√Ω ho·∫∑c H√≥a H·ªçc, Gi√°o d·ª•c c√¥ng d√¢n.</li>
                    <li><strong>Kh√¥ng h·ªçc:</strong> Tin h·ªçc, C√¥ng ngh·ªá, Th·ªÉ d·ª•c, Qu·ªëc ph√≤ng ‚Äì An ninh.</li>
                </ul>
                <p class="mt-4 italic text-gray-500">L∆∞u √Ω: Ch·ªâ √°p d·ª•ng cho t√¢n sinh vi√™n t·ªët nghi·ªáp THPT 2025. N·∫øu thu·ªôc nhi·ªÅu di·ªán, ch·ªâ h∆∞·ªüng m·ª©c cao nh·∫•t. M·ª•c 1‚Äì4, 6‚Äì9 kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t. M·ª•c 5 √°p d·ª•ng cho C√¥ng t√°c x√£ h·ªôi, K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng, K·ªπ thu·∫≠t y sinh, Kinh doanh th∆∞∆°ng m·∫°i, H·ªô sinh, K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc khi kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán ∆∞u ti√™n kh√°c.</p>
            </div>
        </section>
    </main>
    <footer class="mt-6 sm:mt-8 w-full max-w-2xl text-center">
        <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6">
            <div class="flex flex-col sm:flex-row gap-3 justify-center">
                <a href="https://tuyensinh.mku.edu.vn/" target="_blank" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-base sm:text-lg font-semibold">H·ªçc Ph√≠ - H·ªçc B·ªïng</a>
                <a href="https://tuyensinh.mku.edu.vn/dang-ky-xet-tuyen-truc-tuyen" target="_blank" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-base sm:text-lg font-semibold">ƒêƒÉng K√Ω X√©t Tuy·ªÉn</a>
                <a href="https://nguyenhoangvu2003.id.vn/" target="_blank" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-base sm:text-lg font-semibold">Li√™n H·ªá T∆∞ V·∫•n</a>
            </div>
        </div>
    </footer>

    <script>
        function validateScore(input) {
            const raw = input.value;
            if (raw === "0." || raw === "0.0") return;
            const value = parseFloat(raw);
            if (isNaN(value) || value < 0 || value > 10) {
                document.getElementById('totalResult').innerText = 'L·ªói: Vui l√≤ng nh·∫≠p ƒëi·ªÉm t·ª´ 0.0 ƒë·∫øn 10.0';
                input.classList.add('invalid');
                setTimeout(() => input.classList.remove('invalid'), 1000);
            } else {
                input.value = Math.round(value * 10) / 10;
            }
        }

        function updateSubjectTable() {
            const eduType = document.getElementById('eduType').value;
            const sub8Row = document.getElementById('sub8-row');
            const sub9Row = document.getElementById('sub9-row');
            if (eduType === 'gdtx') {
                sub8Row.style.display = 'none';
                sub9Row.style.display = 'none';
                document.getElementById('sub8').value = '';
                document.getElementById('sub9').value = '';
            } else {
                sub8Row.style.display = 'table-row';
                sub9Row.style.display = 'table-row';
            }
        }

        function calculateAverage() {
            const eduType = document.getElementById('eduType').value;
            const subjectCount = eduType === 'gdtx' ? 7 : 9;
            const scores = [];

            // Ki·ªÉm tra ƒëi·ªÉm h·ª£p l·ªá
            for (let i = 1; i <= subjectCount; i++) {
                const input = document.getElementById(`sub${i}`);
                const score = parseFloat(input.value) || 0;
                if (score < 0 || score > 10 || isNaN(score)) {
                    document.getElementById('totalResult').innerText = `L·ªói: ƒêi·ªÉm m√¥n ${i} kh√¥ng h·ª£p l·ªá (ph·∫£i t·ª´ 0.0 ƒë·∫øn 10.0)`;
                    input.classList.add('invalid');
                    setTimeout(() => input.classList.remove('invalid'), 1000);
                    return;
                }
                scores.push(score);
            }

            // Ki·ªÉm tra ng√†nh h·ªçc
            const majorInput = document.getElementById('major').value;
            if (!majorInput) {
                document.getElementById('totalResult').innerText = 'L·ªói: Vui l√≤ng ch·ªçn ng√†nh h·ªçc';
                document.getElementById('major').classList.add('invalid');
                setTimeout(() => document.getElementById('major').classList.remove('invalid'), 1000);
                return;
            }

            // T√≠nh ƒëi·ªÉm trung b√¨nh
            const averageScore = (scores.reduce((sum, score) => sum + score, 0) / subjectCount).toFixed(1);
            const selectedPolicy = document.querySelector('input[name="discountPolicy"]:checked');
            const major = majorInput.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
            const restrictedMajors = ['y khoa', 'y hoc co truyen', 'rang ham mat'];
            const eligibleMajors = [
                'cong tac xa hoi',
                'ky thuat xay dung cong trinh giao thong',
                'ky thuat y sinh',
                'kinh doanh thuong mai',
                'ho sinh',
                'ky thuat hinh anh y hoc'
            ];
            const isRestrictedMajor = restrictedMajors.some(restricted => major.includes(restricted));
            const isEligibleMajor = eligibleMajors.some(eligible => major.includes(eligible));
            let discountMessage = '';
            let selectedPolicyId = '';

            // X√≥a highlight tr∆∞·ªõc ƒë√≥
            document.querySelectorAll('#policyList li').forEach(li => li.classList.remove('highlight'));

            // X√°c ƒë·ªãnh ch√≠nh s√°ch ∆∞u ti√™n
            if (isRestrictedMajor) {
                // Ng√†nh b·ªã h·∫°n ch·∫ø: Ch·ªâ √°p d·ª•ng M·ª•c 10
                if (selectedPolicy && selectedPolicy.value === '10') {
                    selectedPolicyId = '10';
                    discountMessage = `Con th∆∞∆°ng binh, con li·ªát sƒ©: Gi·∫£m 50% h·ªçc ph√≠ HK1 (M·ª•c 10, ∆∞u ti√™n cao nh·∫•t).`;
                } else {
                    selectedPolicyId = '';
                    discountMessage = `Ng√†nh ${majorInput}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ (M·ª•c 1‚Äì4, 5‚Äì9 kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).`;
                }
            } else if (selectedPolicy && ['1', '2', '3', '4', '9', '10'].includes(selectedPolicy.value)) {
                // ∆Øu ti√™n M·ª•c 1‚Äì4, 9‚Äì10 n·∫øu ƒë∆∞·ª£c ch·ªçn
                selectedPolicyId = selectedPolicy.value;
                switch (selectedPolicyId) {
                    case '1':
                        discountMessage = `H·ªô ngh√®o/c·∫≠n ngh√®o: Gi·∫£m 50% h·ªçc ph√≠ nƒÉm th·ª© nh·∫•t (M·ª•c 1, ∆∞u ti√™n cao nh·∫•t).`;
                        break;
                    case '2':
                        discountMessage = `M·ªì c√¥i cha/m·∫π: Gi·∫£m 50% h·ªçc ph√≠ nƒÉm th·ª© nh·∫•t (M·ª•c 2, ∆∞u ti√™n cao nh·∫•t).`;
                        break;
                    case '3':
                        discountMessage = `Con ng∆∞·ªùi c√≥ c√¥ng, d√¢n t·ªôc thi·ªÉu s·ªë,...: Gi·∫£m 40% h·ªçc ph√≠ HK1 (M·ª•c 3, ∆∞u ti√™n cao nh·∫•t).`;
                        break;
                    case '4':
                        discountMessage = `H·ªçc sinh Vƒ©nh Long/Ph√∫ Qu·ªõi: Gi·∫£m ${selectedPolicy.nextElementSibling.textContent.includes('Ph√∫ Qu·ªõi') ? '40%' : '20%'} h·ªçc ph√≠ HK1 (M·ª•c 4, ∆∞u ti√™n cao nh·∫•t).`;
                        break;
                    case '9':
                        discountMessage = `D√¢n t·ªôc Khmer: Mi·ªÖn h·ªçc ph√≠ to√†n kh√≥a (M·ª•c 9, ∆∞u ti√™n cao nh·∫•t).`;
                        break;
                    case '10':
                        discountMessage = `Con th∆∞∆°ng binh, con li·ªát sƒ©: Gi·∫£m 50% h·ªçc ph√≠ HK1 (M·ª•c 10, ∆∞u ti√™n cao nh·∫•t).`;
                        break;
                }
            } else {
                // Ki·ªÉm tra M·ª•c 6‚Äì8 d·ª±a tr√™n TBM tr∆∞·ªõc
                if (averageScore >= 9.0) {
                    selectedPolicyId = '6';
                    discountMessage = `TBM ${averageScore}: ${major.includes('duoc hoc') ? 'Gi·∫£m 50% h·ªçc ph√≠ HK1' : 'Mi·ªÖn h·ªçc ph√≠ HK1'} (M·ª•c 6, ∆∞u ti√™n cao nh·∫•t).`;
                } else if (averageScore >= 8.5) {
                    selectedPolicyId = '7';
                    discountMessage = `TBM ${averageScore}: ${major.includes('duoc hoc') ? 'Gi·∫£m 25% h·ªçc ph√≠ HK1' : 'Gi·∫£m 50% h·ªçc ph√≠ HK1'} (M·ª•c 7, ∆∞u ti√™n cao nh·∫•t).`;
                } else if (averageScore >= 8.0) {
                    if (isEligibleMajor) {
                        // ∆Øu ti√™n M·ª•c 5 cho eligibleMajors khi ƒëi·ªÉm t·ª´ 8.0 ƒë·∫øn d∆∞·ªõi 8.5
                        selectedPolicyId = '5';
                        discountMessage = `Ng√†nh ${majorInput}: Gi·∫£m 20% h·ªçc ph√≠ tr·ªçn kh√≥a (M·ª•c 5, ∆∞u ti√™n cao h∆°n M·ª•c 8 cho ng√†nh n√†y).`;
                    } else if (!major.includes('duoc hoc')) {
                        // √Åp d·ª•ng M·ª•c 8 cho c√°c ng√†nh kh√°c (kh√¥ng ph·∫£i D∆∞·ª£c h·ªçc)
                        selectedPolicyId = '8';
                        discountMessage = `TBM ${averageScore}: Gi·∫£m 25% h·ªçc ph√≠ HK1 (M·ª•c 8, ∆∞u ti√™n cao nh·∫•t).`;
                    } else {
                        selectedPolicyId = '';
                        discountMessage = `TBM ${averageScore}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ (M·ª•c 8 kh√¥ng √°p d·ª•ng cho ng√†nh D∆∞·ª£c h·ªçc).`;
                    }
                } else if (isEligibleMajor) {
                    // √Åp d·ª•ng M·ª•c 5 n·∫øu kh√¥ng th·ªèa m√£n M·ª•c 6‚Äì8 v√† ng√†nh thu·ªôc eligibleMajors
                    selectedPolicyId = '5';
                    discountMessage = `Ng√†nh ${majorInput}: Gi·∫£m 20% h·ªçc ph√≠ tr·ªçn kh√≥a (M·ª•c 5, ∆∞u ti√™n cao nh·∫•t).`;
                } else {
                    selectedPolicyId = '';
                    discountMessage = `TBM ${averageScore}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠.`;
                }
            }

            // √Åp d·ª•ng highlight cho m·ª•c ƒë∆∞·ª£c ch·ªçn
            if (selectedPolicyId) {
                const selectedLi = document.querySelector(`#policyList li[data-policy="${selectedPolicyId}"]`);
                if (selectedLi) {
                    selectedLi.classList.add('highlight');
                    selectedLi.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }
            }

            document.getElementById('totalResult').innerText = `ƒêi·ªÉm trung b√¨nh: ${averageScore}\n${discountMessage}`;

            // L∆∞u d·ªØ li·ªáu v√†o localStorage
            const personalInfo = {
                fullName: document.getElementById('fullName').value,
                dob: document.getElementById('dob').value,
                birthPlace: document.getElementById('birthPlace').value,
                address: document.getElementById('address').value,
                phone: document.getElementById('phone').value,
                major: majorInput,
                averageScore: averageScore,
                discountMessage: discountMessage,
                selectedPolicyId: selectedPolicyId
            };
            localStorage.setItem('applicationData', JSON.stringify(personalInfo));
        }

        function clearPolicySelection() {
            document.querySelectorAll('input[name="discountPolicy"]').forEach(radio => radio.checked = false);
            document.querySelectorAll('#policyList li').forEach(li => li.classList.remove('highlight'));
            calculateAverage();
        }

        function generateApplicationForm() {
            const fullName = document.getElementById('fullName').value;
            const dob = document.getElementById('dob').value;
            const birthPlace = document.getElementById('birthPlace').value;
            const address = document.getElementById('address').value;
            const phone = document.getElementById('phone').value;
            const major = document.getElementById('major').value;
            const totalResult = document.getElementById('totalResult').innerText;

            if (!fullName || !dob || !birthPlace || !address || !phone || !major) {
                alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin c√° nh√¢n!');
                return;
            }
            if (totalResult === 'ƒêi·ªÉm trung b√¨nh: Ch∆∞a t√≠nh') {
                alert('Vui l√≤ng t√≠nh ƒëi·ªÉm trung b√¨nh tr∆∞·ªõc khi t·∫°o form!');
                return;
            }

            window.location.href = 'application-form.html';
        }

        window.onload = updateSubjectTable;
    </script>
</body>
</html>